{% extends "_layout.twig" %}

{% block content %}
    {% include '_partials/navbar/hero-navbar.twig' %}

    <div class="relative pb-32 pt-16 bg-gray-900 overflow-hidden" id="feature-section">
        <div class="relative">
            <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
                <div class="px-4 max-w-xl mx-auto sm:px-6 lg:py-16 lg:max-w-none lg:mx-0 lg:px-0">
                    <div>
                        <div>
                        <span class="h-12 w-12 rounded-md flex items-center justify-center bg-orange-600">
                            <!-- Heroicon name: outline/sparkles -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                 viewBox="0 0 24 24"
                                 stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"/>
                            </svg>
                        </span>
                        </div>
                        <div class="mt-6">
                            <h2 class="text-3xl font-extrabold tracking-tight text-white">
                                Founded in
                                <span class="text-orange-600">2020</span>
                            </h2>
                            <p class="mt-4 text-lg text-gray-400">
                                Phoenix was thought up late one night by Stan & Diego, after realising there was
                                something
                                missing in their current VTC.
                                Along with an excellent team, they handcrafted Phoenix to be a community where everyone
                                could come together, and share their passion!
                            </p>
                            <div class="mt-6">
                                <a href="{{ url('about-us') }}"
                                   class="inline-flex px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-orange-600 hover:bg-orange-700">
                                    Read more
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="mt-8 border-t border-gray-800 pt-6">
                        <blockquote>
                            <div>
                                <p class="text-base prose prose-sm text-gray-400">
                                    &ldquo;Cras velit quis eros eget rhoncus lacus ultrices sed diam. Sit orci risus
                                    aenean
                                    curabitur donec aliquet. Mi venenatis in euismod ut.&rdquo;
                                </p>
                            </div>
                            <footer class="mt-3">
                                <div class="flex items-center space-x-3">
                                    <div class="flex-shrink-0">
                                        <img class="h-6 w-6 rounded-full"
                                             src="{{ alias('@assetBaseUrl/images/profile-pictures/stan.png') }}"
                                             alt="Stan's profile picture">
                                    </div>
                                    <div class="text-base font-medium text-gray-300">
                                        Stan, Management
                                    </div>
                                </div>
                            </footer>
                        </blockquote>
                    </div>
                </div>
                <div class="mt-12 sm:mt-16 lg:mt-0">
                    <div class="pl-4 -mr-48 sm:pl-6 md:-mr-16 lg:px-0 lg:m-0 lg:relative lg:h-full">
                        <img class="w-full rounded-xl lg:absolute lg:left-0 lg:h-full lg:w-auto lg:max-w-none"
                             src="{{ alias('@assetBaseUrl/images/game-media/phoenix_truck_and_trailer_in_a_tunnel.png') }}"
                             alt="Phoenix truck and trailer in a tunnel">
                    </div>
                </div>
            </div>
        </div>
        <div class="pt-24">
            <div class="lg:mx-auto lg:max-w-7xl lg:px-8 lg:grid lg:grid-cols-2 lg:grid-flow-col-dense lg:gap-24">
                <div class="px-4 max-w-xl mx-auto sm:px-6 lg:py-32 lg:max-w-none lg:mx-0 lg:px-0 lg:col-start-2">
                    <div>
                        <div>
                        <span class="h-12 w-12 rounded-md flex items-center justify-center bg-orange-600">
                            <!-- Heroicon name: outline/heart -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none"
                                 viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                            </svg>
                        </span>
                        </div>
                        <div class="mt-6">
                            <h2 class="text-3xl font-extrabold tracking-tight text-white">
                                The Phoenix
                                <span class="text-orange-600">Experience</span>
                            </h2>
                            <p class="mt-4 text-lg prose text-gray-400">
                                We're a fairly new VTC, founded by experienced members of the VTC Community, who believe
                                in forward-thinking and strive for excellence. And we're always working hard on new
                                advancements to make Phoenix even better! If you
                                choose to join us, you're sure to enjoy your time here greatly.
                            </p>
                            <div class="mt-6">
                                <a href="{{ url('apply') }}"
                                   class="inline-flex px-4 py-2 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-orange-600 hover:bg-orange-700">
                                    Apply now
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-12 sm:mt-16 lg:mt-0 lg:col-start-1">
                    <div class="pr-4 -ml-48 sm:pr-6 md:-ml-16 lg:px-0 lg:m-0 lg:relative lg:h-full">
                        <img class="w-full rounded-xl shadow-xl ring-1 ring-black ring-opacity-5 lg:absolute lg:right-0 lg:h-full lg:w-auto lg:max-w-none"
                             src="{{ alias('@assetBaseUrl/images/game-media/phoenix_trucks_on_port.png') }}"
                             alt="Four Phoenix trucks parked on a port, with an airplane in the background.">
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% set client = {
        base_uri : 'https://base.phoenixvtc.com',
        timeout : 10
    } %}

    {% set request = fetch(client, 'GET', 'api/cms/statistics') %}

    {% if request.error is not defined %}
        <div class="bg-gray-800 pt-12 sm:pt-16" id="stats">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="text-3xl font-extrabold text-white sm:text-4xl">
                        All-time statistics
                    </h2>
                    <p class="mt-3 text-xl text-gray-400 sm:mt-4">
                        Our numbers don't lie, and we aren't afraid to show them.
                    </p>
                </div>
            </div>
            <div class="mt-10 pb-12 bg-gray-800 sm:pb-16">
                <div class="relative">
                    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                        <div class="max-w-4xl mx-auto">
                            <dl class="rounded-lg bg-white shadow-lg sm:grid sm:grid-cols-3">
                                <div class="flex flex-col border-b border-gray-100 p-6 text-center sm:border-0 sm:border-r">
                                    <dt class="order-2 mt-2 text-lg leading-6 font-medium text-gray-500">
                                        Community Members
                                    </dt>
                                    <dd class="order-1 text-5xl font-extrabold text-orange-600">
                                        {{ request.body.communityMembers ?? '? ? ?' }}
                                    </dd>
                                </div>
                                <div class="flex flex-col border-t border-b border-gray-100 p-6 text-center sm:border-0 sm:border-l sm:border-r">
                                    <dt class="order-2 mt-2 text-lg leading-6 font-medium text-gray-500">
                                        Events Attended
                                    </dt>
                                    <dd class="order-1 text-5xl font-extrabold text-orange-600">
                                        {{ request.body.eventsAttended ?? '? ? ?' }}
                                    </dd>
                                </div>
                                <div class="flex flex-col border-t border-gray-100 p-6 text-center sm:border-0 sm:border-l">
                                    <dt class="order-2 mt-2 text-lg leading-6 font-medium text-gray-500">
                                        Active Drivers
                                    </dt>
                                    <dd class="order-1 text-5xl font-extrabold text-orange-600">
                                        {{ request.body.activeDrivers ?? '? ? ?' }}
                                    </dd>
                                </div>
                            </dl>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}

    <div class="relative bg-orange-700 pt-16 pb-20 px-4 sm:px-6 lg:pb-28 lg:px-8" id="news">
        <div class="absolute inset-0">
            <div class="px-4 border-t border-gray-700"></div>
            <div class="bg-gray-800 h-1/3 sm:h-2/3"></div>
        </div>
        <div class="relative max-w-7xl mx-auto">
            <div class="text-center">
                <h2 class="text-3xl tracking-tight font-extrabold text-white sm:text-4xl">
                    Our latest news posts
                </h2>
                <p class="mt-3 max-w-2xl mx-auto text-xl text-gray-400 sm:mt-4">
                    Stay up-to-date with the latest Phoenix updates!
                </p>
            </div>
            <div class="mt-12 max-w-lg mx-auto grid gap-5 lg:grid-cols-3 lg:max-w-none">
                {% set entries = craft.entries()
                    .section('news')
                    .limit(3) %}

                {% for entry in entries.all() %}
                    {% include '_partials/post/card.twig' %}
                {% endfor %}
            </div>
        </div>
    </div>

    {% embed '_partials/cta/orange-apply.twig' %}
    {% endembed %}
{% endblock %}
